<!DOCTYPE html>
<html>
<head>
    <title>Fish Net 2</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='form-style.css') }}">
</head>
<body>
    <div class="centered-container">
        <h1>Upload Image to perform object detection on fishing scene</h1>
        <div id="subheader">
            <p>Object detection with 26 classes using FasterRCNN Transfer Learning. 
                Training Images are from The Natrue Conservancy (www.Fishnet.ai)</p>
        </div>
        <form method="post" action="{{ url_for('app_routes.upload_file') }}" enctype="multipart/form-data">
            <label for="file">Image:</label>
            <input type="file" id="file" name="file" required><br>
            <label for="fish_thresh">Fish Detection Threshold:</label>
            <input type="number" id="thresh" name="fish_thresh" value="0.5" step="0.01" min="0.01" max="0.99" required><br>
            <label for="human_thresh">Human Detection Threshold:</label>
            <input type="number" id="thresh" name="human_thresh" value="0.8" step="0.01" min="0.01" max="0.99" required>
            <br><br>
            <label><input type="checkbox" name="all_models"> Generate using all three models?</label>
            <br>
            <input type="submit" value="Upload">
        </form>
    </div>
    {% if message %}
        <input type="hidden" id="uploadMessage" value="{{ message }}">
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() {
                var uploadMessage = document.getElementById('uploadMessage').value;
                alert(uploadMessage);
                window.location.href = "{{ url_for('app_routes.index') }}";
            });
        </script>
    {% endif %}
</body>
</html>
